--- a/ext/gmp/gmp.c
+++ b/ext/gmp/gmp.c
*** 364,369 ****
--- 364,376 ----
  	REGISTER_LONG_CONSTANT("GMP_ROUND_ZERO", GMP_ROUND_ZERO, CONST_CS | CONST_PERSISTENT);
  	REGISTER_LONG_CONSTANT("GMP_ROUND_PLUSINF", GMP_ROUND_PLUSINF, CONST_CS | CONST_PERSISTENT);
  	REGISTER_LONG_CONSTANT("GMP_ROUND_MINUSINF", GMP_ROUND_MINUSINF, CONST_CS | CONST_PERSISTENT);
+
+ #ifdef GMP_LIMB_BITS
+ 	REGISTER_LONG_CONSTANT("GMP_LIMB_BITS", GMP_LIMB_BITS, CONST_CS | CONST_PERSISTENT);
+ #else
+ 	REGISTER_LONG_CONSTANT("GMP_LIMB_BITS", __GMP_BITS_PER_MP_LIMB, CONST_CS | CONST_PERSISTENT);
+ #endif
+
  #ifdef mpir_version
  	REGISTER_STRING_CONSTANT("GMP_MPIR_VERSION", (char *)mpir_version, CONST_CS | CONST_PERSISTENT);
  #endif
